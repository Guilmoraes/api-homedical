<div class="content content-bg">
    <form name="addDuty" role="form" novalidate ng-submit="vm.save()" show-validation>

        <jhi-alert-error></jhi-alert-error>

        <h4 class="form-section" id="myControllerLabel" data-translate="homedicalApp.professional.selectDuty">
            Select Duties</h4>

        <div class="row row-form">
            <div class="form-group form-group col-xs-12 col-sm-12">
                <label class="control-label" data-translate="homedicalApp.duty.home.title"
                       for="field_duties">Plantão</label>

                <input selectize="{create: false,maxItems: 1, searchField: ['name']}"
                       selectize-load-data="vm.loadDuties(query, callback)"
                       selectize-on-select="vm.dutySelected(id, model)"
                       selectize-update-event="reload.duties"
                       selectize-label-type="disable"
                       selectize-initial-data="vm.duties"
                       id="field_duties"
                       name="duties"
                       ng-model="vm.selectedProducer"
                       placeholder="{{ 'homedicalApp.duty.home.title' | translate}}">
                <div>
                </div>
                <div class="form-group col-xs-12">
                    <div class="form-group">
                        <button type="button"
                                class="btn btn-sm btn-new btn-outline" ng-click="vm.addDuties()">

                            <span class="glyphicon glyphicon-plus"></span>
                            <span data-translate="homedicalApp.professional.buttons.addDuties"></span>

                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row row-form" ng-repeat="duty in vm.profissionalDuties track by $index">
            <div class="form-group col-sm-6">
                <label class="control-label" data-translate="homedicalApp.professional.duty">Duty</label>

                <input type="text"
                       class="form-control"
                       name="duty"
                       disabled
                       id="field_professional_duty"
                       required
                       ng-model="duty.name"
                />
            </div>

            <div class="form-group col-sm-3 set-margin-top-23">
                <button type="button"
                        ng-click="vm.removeDuties(duty)"
                        class="btn-sm bottom btn-danger">
                    <span class="glyphicon glyphicon-remove"></span>
                    <span data-translate="homedicalApp.professional.buttons.removeDuty"></span>

                </button>
            </div>
        </div>

        <div class="form-footer">
            <!-- botões -->
            <div class="row row-form">
                <div class="col-xs-12 text-right">
                    <!-- cancelar -->
                    <button class="btn btn-link"
                            type="button"
                            data-dismiss="modal"
                            ng-click="vm.clear()">
                        <span data-translate="entity.action.cancel">Cancel</span>
                    </button>
                    <!-- end cancelar -->

                    <!-- salvar -->
                    <button class="btn btn-save"
                            type="submit"
                            ng-disabled="addDuty.$invalid || vm.isSaving">
                        <span data-translate="entity.action.save">Save</span>
                    </button>
                    <!-- end salvar -->
                </div>
            </div>
            <!-- end botões -->
        </div>
    </form>
</div>
